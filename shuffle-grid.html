<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shuffle Grid</title>
    <style>
        body {
            font-family: sans-serif;
        }
        #contentgrid {
            display: grid;
            gap: 20px;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        #contentgrid > div {
            padding: 1em;
        }
        #about { background-color: #f0f0f0; }
        #news { background-color: #d0d0d0; }
        #contact { background-color: #b0b0b0; }
        #casestudies { background-color: #909090; }
    </style>
</head>
<body>
    <div id="contentgrid">
        <div id="about">
            <h2>About</h2>
            <p>This is the order.html file.</p>
        </div>
        <div id="news">
            <h2>News</h2>
            <p>Latest news will be displayed here.</p>
        </div>
        <div id="contact">
            <h2>Contact</h2>
            <p>Contact information will be displayed here.</p>
        </div>  
        <div id="casestudies">
            <h2>Case Studies</h2>
            <p>Case studies will be displayed here.</p>
        </div>
    </div>
    <button>Shuffle</button>
    <script>
        let root = document.querySelector('#contentgrid');
        let cssvar = `--item$x-order`;
        // Get the amount of items
        let elms = root.querySelectorAll(
            root.firstElementChild.tagName
        );
        all = elms.length;
        // Initialize the order array and set the order on the items
        let orders = [];
        for (let i = 1; i <= all; i++) {
            orders.push(i);
            elms[i - 1].style.setProperty(
                'order', 'var(' + cssvar.replace('$x', i) + ')'
            );
            root.style.setProperty(cssvar.replace('$x', i), i);
        }
        const shuffleorder = () => {
            const shufflearray = (array) => {
                let i = array.length;
                while (--i) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            };
            shufflearray(orders);
            orders.forEach((i,k) => {
                root.style.setProperty(
                cssvar.replace('$x',k + 1), orders[i]);
            })
        };
        shuffleorder();
        document.querySelector('button').addEventListener('click',shuffleorder);
        const CSSprop = {
            get: (elm, name) => getComputedStyle(elm).getPropertyValue(name),
            set: (elm, name, value) => elm.style.setProperty(name, value)
        };
        rotatearray = (array) => {
            let first = array.shift();
            array.push(first);
        };
    </script>
</body>
</html>




